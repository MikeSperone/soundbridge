{"version":3,"sources":["../../src/js/trigroove.js"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;IAIM,I;;;AAEF,kBAAY,KAAZ,EAAmB,OAAnB,EAA4B;AAAA;;AAAA,gHAClB,KADkB,EACX,OADW;;AAExB,cAAK,KAAL,GAAa,KAAb;AACA,cAAK,OAAL,GAAe,OAAf;AACA,cAAK,QAAL,GAAgB,CAAhB;AACA,cAAK,SAAL,GAAiB,IAAjB;AACA,cAAK,IAAL;AANwB;AAO3B;;;;+BAEM,G,EAAK;AACR,gBAAI,IAAI,KAAK,KAAL,CAAW,GAAX,CAAR;;AAEA,gBAAI,IAAI,EAAR,EAAY;;AAER,oBAAI,MAAM,KAAK,SAAf,EAA0B;AACtB,yBAAK,SAAL,GAAiB,CAAjB;AACA,yBAAK,IAAL,CAAU,CAAV;AACH;AAEJ,aAPD,MAOO,IAAI,IAAI,EAAR,EAAY;AACf;AACA,qBAAK,QAAL,GAAgB,CAAhB;AACA,qBAAK,MAAL,GAAc,KAAK,QAAnB;AACA,qBAAK,WAAL,CAAiB,CAAjB;AAEH;AACJ;;;6BAEI,C,EAAG;AACJ,gBAAI,cAAJ;AACA,gBAAI,MAAM,KAAK,QAAf;AACA,iBAAK,IAAL;AACA,oBAAO,CAAP;AACI,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ;AACI,4BAAQ,MAAI,GAAZ;AACA;AA3BR;AA6BA,oBAAQ,GAAR,CAAY,YAAY,KAAxB;AACA,iBAAK,QAAL,GAAgB,KAAhB;AACA,iBAAK,MAAL,GAAc,GAAd;AACA,iBAAK,WAAL,CAAiB,KAAK,QAAtB;AACH;;;6BAGI,C,EAAG,CAEP;;;oCAEW,O,EAAS;AACjB,gBAAI,OAAJ,EAAa;AACT;AACA,qBAAK,KAAL,CAAW,OAAX,CAAmB,KAAK,QAAxB;AACA,qBAAK,QAAL,CAAc,OAAd,CAAsB,KAAK,KAA3B;AACA,qBAAK,KAAL,CAAW,OAAX,CAAmB,KAAK,KAAxB,EAA+B,CAA/B,EAAkC,CAAlC;AACA,qBAAK,GAAL,CAAS,OAAT,CAAiB,KAAK,IAAtB;AACA,qBAAK,GAAL,CAAS,OAAT,CAAiB,KAAK,KAAtB;AACA,qBAAK,IAAL,CAAU,OAAV,CAAkB,KAAK,MAAvB;AACH,aARD,MAQO;AACH;AACA,qBAAK,GAAL,CAAS,OAAT,CAAiB,KAAK,MAAtB;AACH;AACJ;;;;EAvFc,I","file":"trigroove.js","sourcesContent":["/**\r\n * Created by Mike on 9/2/16.\r\n */\r\n\r\nclass Loop extends Play {\r\n\r\n    constructor(audio, context) {\r\n        super(audio, context);\r\n        this.audio = audio;\r\n        this.context = context;\r\n        this.position = 0;\r\n        this.sensorPos = null;\r\n        this.play();\r\n    }\r\n\r\n    sensor(val) {\r\n        let x = Math.floor(val);\r\n\r\n        if (x > 20) {\r\n\r\n            if (x !== this.sensorPos) {\r\n                this.sensorPos = x;\r\n                this.loop(x);\r\n            }\r\n\r\n        } else if (x < 11) {\r\n            // play\r\n            this.position = 0;\r\n            this.length = this.duration;\r\n            this.startSample(0);\r\n\r\n        }\r\n    }\r\n\r\n    loop(x) {\r\n        let start;\r\n        let dur = this.duration;\r\n        this.stop();\r\n        switch(x) {\r\n            case 21:\r\n            case 22:\r\n                start = 0.3*dur;\r\n                break;\r\n            case 23:\r\n            case 24:\r\n                start = 0.4*dur;\r\n                break;\r\n            case 25:\r\n            case 26:\r\n                start = 0.5*dur;\r\n                break;\r\n            case 27:\r\n            case 28:\r\n                start = 0.6*dur;\r\n                break;\r\n            case 29:\r\n            case 30:\r\n                start = 0.7*dur;\r\n                break;\r\n            case 31:\r\n            case 32:\r\n                start = 0.8*dur;\r\n                break;\r\n            default:\r\n                start = 0.9*dur;\r\n                break;\r\n        }\r\n        console.log(\"start: \" + start);\r\n        this.position = start;\r\n        this.length = 1.2;\r\n        this.startSample(this.position);\r\n    }\r\n\r\n\r\n    hold(x) {\r\n\r\n    }\r\n\r\n    delaySwitch(setting) {\r\n        if (setting) {\r\n            //console.log(\"delay on\");\r\n            this.delay.connect(this.feedback);\r\n            this.feedback.connect(this.delay);\r\n            this.delay.connect(this.merge, 0, 1);\r\n            this.src.connect(this.panL);\r\n            this.src.connect(this.delay);\r\n            this.panL.connect(this.volume);\r\n        } else {\r\n            //console.log(\"delay off\");\r\n            this.src.connect(this.volume);\r\n        }\r\n    }\r\n\r\n\r\n\r\n}"]}