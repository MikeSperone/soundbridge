{"version":3,"sources":["../../src/js/trigroove.js"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;IAIM,S;;;AAEF,uBAAY,KAAZ,EAAmB,OAAnB,EAA4B;AAAA;;AAAA,0HAClB,KADkB,EACX,OADW;;AAExB,cAAK,KAAL,GAAa,KAAb;AACA,cAAK,OAAL,GAAe,OAAf;AACA,cAAK,QAAL,GAAgB,CAAhB;AACA;AACA,cAAK,IAAL;AANwB;AAO3B;;;;+BAEM,G,EAAK;AACR,gBAAI,IAAI,KAAK,KAAL,CAAW,GAAX,CAAR;;AAEA,gBAAI,IAAI,EAAR,EAAY;AACR,oBAAI,KAAK,CAAT,EAAY;AACR,wBAAI,KAAI,CAAR;AACA,yBAAK,IAAL,CAAU,CAAV;AACH;AAEJ,aAND,MAMO,IAAI,IAAI,EAAR,EAAY;AACf,qBAAK,IAAL,CAAU,CAAV;AACH,aAFM,MAEA;AACH;AACA,qBAAK,QAAL,GAAgB,CAAhB;AACA,qBAAK,MAAL,GAAc,KAAK,QAAnB;AACH;AACJ;;;6BAEI,C,EAAG;AACJ,gBAAI,cAAJ;AACA,gBAAI,MAAM,KAAK,QAAf;AACA,iBAAK,IAAL;AACA,oBAAO,CAAP;AACI,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ,qBAAK,EAAL;AACA,qBAAK,EAAL;AACI,4BAAQ,MAAI,GAAZ;AACA;AACJ;AACI,4BAAQ,MAAI,GAAZ;AACA;AA3BR;AA6BA,oBAAQ,GAAR,CAAY,YAAY,KAAxB;AACA,iBAAK,QAAL,GAAgB,KAAhB;AACA,iBAAK,MAAL,GAAc,GAAd;AACA,iBAAK,IAAL;AACA,iBAAK,WAAL;AACH;;;6BAGI,C,EAAG;AACJ;AACH;;;oCAEW,O,EAAS;AACjB,gBAAI,OAAJ,EAAa;AACT;AACA,qBAAK,KAAL,CAAW,OAAX,CAAmB,KAAK,QAAxB;AACA,qBAAK,QAAL,CAAc,OAAd,CAAsB,KAAK,KAA3B;AACA,qBAAK,KAAL,CAAW,OAAX,CAAmB,KAAK,KAAxB,EAA+B,CAA/B,EAAkC,CAAlC;AACA,qBAAK,GAAL,CAAS,OAAT,CAAiB,KAAK,IAAtB;AACA,qBAAK,GAAL,CAAS,OAAT,CAAiB,KAAK,KAAtB;AACA,qBAAK,IAAL,CAAU,OAAV,CAAkB,KAAK,MAAvB;AACH,aARD,MAQO;AACH;AACA,qBAAK,GAAL,CAAS,OAAT,CAAiB,KAAK,MAAtB;AACH;AACJ;;;;EAvFmB,I","file":"trigroove.js","sourcesContent":["/**\n * Created by Mike on 9/2/16.\n */\n\nclass Trigroove extends Play {\n\n    constructor(audio, context) {\n        super(audio, context);\n        this.audio = audio;\n        this.context = context;\n        this.position = 0;\n        //this.length = 1.2; //s\n        this.play();\n    }\n\n    sensor(val) {\n        let x = Math.floor(val);\n\n        if (x > 20) {\n            if (x != y) {\n                let y = x;\n                this.loop(x);\n            }\n\n        } else if (x > 11) {\n            this.hold(x);\n        } else {\n            // play\n            this.position = 0;\n            this.length = this.duration;\n        }\n    }\n\n    loop(x) {\n        let start;\n        let dur = this.duration;\n        this.stop();\n        switch(x) {\n            case 21:\n            case 22:\n                start = 0.3*dur;\n                break;\n            case 23:\n            case 24:\n                start = 0.4*dur;\n                break;\n            case 25:\n            case 26:\n                start = 0.5*dur;\n                break;\n            case 27:\n            case 28:\n                start = 0.6*dur;\n                break;\n            case 29:\n            case 30:\n                start = 0.7*dur;\n                break;\n            case 31:\n            case 32:\n                start = 0.8*dur;\n                break;\n            default:\n                start = 0.9*dur;\n                break;\n        }\n        console.log(\"start: \" + start);\n        this.position = start;\n        this.length = 1.2;\n        this.stop();\n        this.startSample();\n    }\n\n\n    hold(x) {\n        //uhhhhh....\n    }\n\n    delaySwitch(setting) {\n        if (setting) {\n            //console.log(\"delay on\");\n            this.delay.connect(this.feedback);\n            this.feedback.connect(this.delay);\n            this.delay.connect(this.merge, 0, 1);\n            this.src.connect(this.panL);\n            this.src.connect(this.delay);\n            this.panL.connect(this.volume);\n        } else {\n            //console.log(\"delay off\");\n            this.src.connect(this.volume);\n        }\n    }\n\n\n\n}"]}